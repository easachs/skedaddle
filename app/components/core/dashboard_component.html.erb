<%= content_tag :div, class: 'flex fixed top-0 left-0 w-full', data: { controller: 'dropdown' } do %>
  <%= content_tag :div, class: 'bg-white bg-opacity-70 flex justify-between items-center w-full p-2' do %>
    <%= content_tag :div, class: 'text-sm sm:text-base' do %>
      <%= link_to 'SKEDADDLE', root_path, data: { turbo_frame: 'home' }, class: 'p-2 font-bold' %>
      <%= link_to 'Itineraries', itineraries_path, data: { turbo_frame: 'home' }, class: 'p-2' if @signed_in %>

      <%= content_tag :span, class: 'text-sm', data: { controller: 'error' } do %>
        <% flash.each do |name, msg| %>
          <%= content_tag :span, msg, class: 'm-2 error', data: { error_target: 'error' } %>
        <% end %>
      <% end %>
    <% end %>

    <%= content_tag :div, class: 'flex justify-between items-center' do %>
      <%= content_tag :div, class: 'flex hidden text-sm sm:text-base', data: { dropdown_target: 'content' } do %>
        <%= link_to 'About', about_path, data: { turbo_frame: 'home' }, class: 'hidden sm:block p-2' %>
        <%= link_to 'Settings',
                    edit_user_registration_path,
                    data: { turbo_frame: 'home' },
                    class: 'hidden sm:block p-2' if @signed_in && @signed_in&.uid.blank? %>
        <%= button_to 'Sign Out',
                      destroy_user_session_path,
                      method: :delete,
                      form: { style: 'display: inline;' },
                      class: 'p-2' if @signed_in %>
        <%= link_to 'Sign In', new_user_session_path, data: { turbo_frame: 'home' }, class: 'p-2' unless @signed_in %>
      <% end %>

      <div class="cursor-pointer p-2" data-action="click->dropdown#toggle" role="button">
        &#9776;
      </div>
    <% end %>
  <% end %>
<% end %>
